/** Notice * This file contains works from many authors under various (but compatible) licenses. Please see core.txt for more information. **/
(function(){(window.wpCoreControlsBundle=window.wpCoreControlsBundle||[]).push([[12],{470:function(Aa,wa,r){r.r(wa);var oa=r(0),na=r(1);r.n(na);var ma=r(2),fa=r(159);Aa=r(48);var da=r(100),aa=r(266),y=r(76),w=r(265);r=r(399);var f=window,e=function(){function h(n,z,x){var ca=-1===n.indexOf("?")?"?":"&";switch(z){case y.a.NEVER_CACHE:this.url=n+ca+"_="+Object(na.uniqueId)();break;default:this.url=n}this.rf=x;this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);this.request.setRequestHeader("X-Requested-With",
"XMLHttpRequest");this.request.overrideMimeType?this.request.overrideMimeType("text/plain; charset=x-user-defined"):this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=w.a.NOT_STARTED}h.prototype.start=function(n,z){var x=this,ca=this,ja=this.request,ba;ca.ky=0;n&&Object.keys(n).forEach(function(ea){x.request.setRequestHeader(ea,n[ea])});z&&(this.request.withCredentials=z);this.nF=setInterval(function(){var ea=0===window.document.URL.indexOf("file:///");ea=200===ja.status||
ea&&0===ja.status;if(ja.readyState!==w.b.DONE||ea){try{ja.responseText}catch(ia){return}ca.ky<ja.responseText.length&&(ba=ca.lla())&&ca.trigger(h.Events.DATA,[ba]);0===ja.readyState&&(clearInterval(ca.nF),ca.trigger(h.Events.DONE))}else clearInterval(ca.nF),ca.trigger(h.Events.DONE,["Error received return status "+ja.status])},1E3);this.request.send(null);this.status=w.a.STARTED};h.prototype.lla=function(){var n=this.request,z=n.responseText;if(0!==z.length)if(this.ky===z.length)clearInterval(this.nF),
this.trigger(h.Events.DONE);else return z=Math.min(this.ky+3E6,z.length),n=f.qW(n,this.ky,!0,z),this.ky=z,n};h.prototype.abort=function(){clearInterval(this.nF);var n=this;this.request.onreadystatechange=function(){Object(ma.j)("StreamingRequest aborted");n.status=w.a.ABORTED;return n.trigger(h.Events.ABORTED)};this.request.abort()};h.prototype.finish=function(){var n=this;this.request.onreadystatechange=function(){n.status=w.a.SUCCESS;return n.trigger(h.Events.DONE)};this.request.abort()};h.Events=
{DONE:"done",DATA:"data",ABORTED:"aborted"};return h}();Object(Aa.a)(e);var a;(function(h){h[h.LOCAL_HEADER=0]="LOCAL_HEADER";h[h.FILE=1]="FILE";h[h.CENTRAL_DIR=2]="CENTRAL_DIR"})(a||(a={}));var b=function(h){function n(){var z=h.call(this)||this;z.buffer="";z.state=a.LOCAL_HEADER;z.CO=4;z.Mm=null;z.lu=fa.c;z.lo={};return z}Object(oa.c)(n,h);n.prototype.ela=function(z){var x;for(z=this.buffer+z;z.length>=this.lu;)switch(this.state){case a.LOCAL_HEADER:this.Mm=x=this.pla(z.slice(0,this.lu));if(x.Vu!==
fa.g)throw Error("Wrong signature in local header: "+x.Vu);z=z.slice(this.lu);this.state=a.FILE;this.lu=x.OI+x.ar+x.bx+this.CO;this.trigger(n.Events.HEADER,[x]);break;case a.FILE:this.Mm.name=z.slice(0,this.Mm.ar);this.lo[this.Mm.name]=this.Mm;x=this.lu-this.CO;var ca=z.slice(this.Mm.ar+this.Mm.bx,x);this.trigger(n.Events.FILE,[this.Mm.name,ca,this.Mm.fJ]);z=z.slice(x);if(z.slice(0,this.CO)===fa.h)this.state=a.LOCAL_HEADER,this.lu=fa.c;else return this.state=a.CENTRAL_DIR,!0}this.buffer=z;return!1};
n.Events={HEADER:"header",FILE:"file"};return n}(aa.a);Object(Aa.a)(b);Aa=function(h){function n(z,x,ca,ja,ba){ca=h.call(this,z,ca,ja)||this;ca.url=z;ca.stream=new e(z,x);ca.Cd=new b;ca.CZ=window.createPromiseCapability();ca.c_={};ca.rf=ba;return ca}Object(oa.c)(n,h);n.prototype.dz=function(z){var x=this;this.request([this.Lj,this.pl,this.Kj]);this.stream.addEventListener(e.Events.DATA,function(ca){try{if(x.Cd.ela(ca))return x.stream.finish()}catch(ja){throw x.stream.abort(),x.uq(ja),z(ja),ja;}});
this.stream.addEventListener(e.Events.DONE,function(ca){x.Hka=!0;x.CZ.resolve();ca&&(x.uq(ca),z(ca))});this.Cd.addEventListener(b.Events.HEADER,Object(na.bind)(this.b_,this));this.Cd.addEventListener(b.Events.FILE,Object(na.bind)(this.Fla,this));return this.stream.start(this.rf,this.withCredentials)};n.prototype.nW=function(z){var x=this;this.CZ.promise.then(function(){z(Object.keys(x.Cd.lo))})};n.prototype.Vo=function(){return!0};n.prototype.request=function(z){var x=this;this.Hka&&z.forEach(function(ca){x.c_[ca]||
x.Sqa(ca)})};n.prototype.b_=function(){};n.prototype.abort=function(){this.stream&&this.stream.abort()};n.prototype.Sqa=function(z){this.trigger(da.a.Events.PART_READY,[{fb:z,error:"Requested part not found",Ui:!1,sg:!1}])};n.prototype.Fla=function(z,x,ca){this.c_[z]=!0;this.trigger(da.a.Events.PART_READY,[{fb:z,data:x,Ui:!1,sg:!1,error:null,gd:ca}])};return n}(da.a);Object(r.a)(Aa);Object(r.b)(Aa);wa["default"]=Aa}}]);}).call(this || window)
